(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[1],{60:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return j})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return h})),a.d(t,"d",(function(){return f}));var n=a(61),r=a.n(n),c=a(63),s="https://api.themoviedb.org/3",i="1a4768bd62313a9ba272b58353515c76",o="https://image.tmdb.org/t/p/w500";function u(){return l.apply(this,arguments)}function l(){return l=Object(c.a)(r.a.mark((function e(){var t,a,n,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",a=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(t,a);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not Found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function m(){return u("".concat(s,"/trending/movie/week?api_key=").concat(i))}function j(e){return u("".concat(s,"/search/movie?api_key=").concat(i,"&query=").concat(e,"&language=en-US&page=1&include_adult=false"))}function b(e){return u("".concat(s,"/movie/").concat(e,"?api_key=").concat(i,"&language=en-US"))}function h(e){return u("".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(i,"&language=en-US"))}function f(e){return u("".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(i,"&language=en-US"))}},64:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(65),r=a.n(n),c=a(1);function s(e){var t=e.message;return Object(c.jsx)("div",{children:Object(c.jsxs)("p",{className:r.a.message,children:["Sorry, no matches found. Error:",t]})})}},65:function(e,t,a){e.exports={message:"ErrorView_message__3aRQF"}},67:function(e,t,a){e.exports={searchbar:"SearchBar_searchbar__3KMEO",searchForm:"SearchBar_searchForm__bTf69",searchFormButton:"SearchBar_searchFormButton__2Xv3t",searchFormButtonLabel:"SearchBar_searchFormButtonLabel__8tnfn",searchFormInput:"SearchBar_searchFormInput__7SWYX"}},68:function(e,t,a){e.exports={list:"GalleryView_list__1YfL-",item:"GalleryView_item__1OpgH",link:"GalleryView_link__2JH4D",image:"GalleryView_image__36sbx",title:"GalleryView_title__SCM1I"}},69:function(e,t,a){e.exports={message:"FilmStatusView_message__25jl3"}},77:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a(74),r=a(59),c=a(0),s=a(3),i=a(73),o=a(67),u=a.n(o),l=a(1);function m(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(r.a)(a,2),s=n[0],o=n[1];return Object(l.jsx)("div",{className:u.a.searchbar,children:Object(l.jsxs)("form",{className:u.a.searchForm,onSubmit:function(e){e.preventDefault(),t(s),o("")},children:[Object(l.jsx)("input",{value:s,onChange:function(e){return o(e.currentTarget.value.toLowerCase())},className:u.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films"}),Object(l.jsx)("button",{type:"submit",className:u.a.searchFormButton,children:Object(l.jsx)(i.a,{})})]})})}var j=a(60),b=a(64),h=a(14),f=a(9),d=a(68),p=a.n(d);function _(e){var t=e.films,a=Object(s.i)().url;return Object(l.jsx)("ul",{className:p.a.list,children:t.map((function(e){return Object(l.jsx)("li",{className:p.a.item,children:Object(l.jsxs)(f.b,{to:"".concat(a,"/").concat(e.id),className:p.a.link,children:[Object(l.jsx)("img",{className:p.a.image,src:j.a+e.poster_path,alt:e.title,width:"300",height:"450"}),Object(l.jsx)("p",{className:"{s.title}",children:e.title})]})},e.id)}))})}var O=a(69),g=a.n(O),v="idle",x="pending",S="resolved",w="rejected";function y(e){var t=e.filmName,a=e.queryURL,n=Object(c.useState)({}),s=Object(r.a)(n,2),i=s[0],o=s[1],u=Object(c.useState)(v),m=Object(r.a)(u,2),f=m[0],d=m[1],p=Object(c.useState)([]),O=Object(r.a)(p,2),y=O[0],F=O[1],k=function(e){Object(j.e)(e).then((function(e){if(!(e.total_results>0))return Promise.reject(new Error("Invalid request"));F(e.results),d(S)})).catch((function(e){o(e),d(w)}))};return Object(c.useEffect)((function(){""!==t||null===a?t&&k(t):k(a)}),[t,a]),f===v?Object(l.jsx)("p",{className:g.a.message,children:"Please enter your search term"}):f===x?Object(l.jsx)(h.a,{}):f===w?Object(l.jsx)(b.a,{message:i.message}):f===S?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(_,{films:y})}):void 0}function F(){var e=Object(s.f)(),t=Object(s.g)(),a=Object(c.useState)(""),i=Object(r.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)([]),b=Object(r.a)(j,2),h=(b[0],b[1]),f=new URLSearchParams(t.search).get("query");return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m,{onSubmit:function(a){var r;u(a),h([]),r=a,e.push(Object(n.a)(Object(n.a)({},t),{},{search:"query=".concat(r)}))}}),Object(l.jsx)(y,{filmName:o,queryURL:f})]})}}}]);
//# sourceMappingURL=MoviesView.df0d7582.chunk.js.map